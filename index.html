<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
<title>RAK</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@700&family=Rajdhani:wght@600;700&display=swap');
:root{
  --red:#C41E3A;--black:#0F0F0F;--dark:#1A1A1A;--glow:0 0 15px rgba(196,30,58,0.7);
  --transition:0.8s cubic-bezier(0.25,0.8,0.25,1);--fast:0.4s ease;
}
*{margin:0;padding:0;box-sizing:border-box;}
body,html{height:100%;overflow:hidden;font-family:'Rajdhani',sans-serif;background:var(--black);color:#fff;}
#app{position:relative;width:100%;height:100%;perspective:1500px;}
.page{position:absolute;top:0;left:0;width:100%;height:100%;opacity:0;visibility:hidden;transform:scale(0.8);transition:opacity var(--transition),transform var(--transition),visibility var(--transition);display:flex;flex-direction:column;align-items:center;justify-content:center;padding:20px;}
.page.active{opacity:1;visibility:visible;transform:scale(1);z-index:10;}
.container{background:rgba(15,15,15,0.95);border-radius:16px;padding:30px;max-width:420px;width:100%;box-shadow:var(--glow),0 20px 40px rgba(0,0,0,0.6);backdrop-filter:blur(12px);border:1px solid rgba(196,30,58,0.3);}
h1{font-family:'Orbitron',sans-serif;text-align:center;margin-bottom:20px;color:var(--red);text-shadow:0 0 10px var(--red);font-size:2.5rem;letter-spacing:3px;}
.nav{position:fixed;top:20px;right:20px;z-index:100;display:flex;gap:12px;}
.icon-btn{background:transparent;border:none;cursor:pointer;width:48px;height:48px;display:flex;align-items:center;justify-content:center;}
.icon{width:28px;height:28px;fill:#aaa;transition:0.3s;}
.icon-btn:hover .icon{fill:var(--red);transform:scale(1.15);filter:drop-shadow(0 0 8px var(--red));}
.card-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(160px,1fr));gap:18px;margin:20px 0;max-height:60vh;overflow-y:auto;padding:10px;perspective:1000px;}
.card-item{background:var(--dark);border-radius:14px;padding:16px;text-align:center;cursor:pointer;position:relative;overflow:hidden;transform-style:preserve-3d;opacity:0;}
.card-item.enter{animation:dripIn .8s forwards,morph .6s .8s forwards;}
@keyframes dripIn{0%{transform:translateY(-100%);opacity:0}100%{transform:translateY(0);opacity:1}}
@keyframes morph{0%{border-radius:50%;transform:scale(0.3)}100%{border-radius:14px;transform:scale(1)}}
.card-item:hover{transform:translateY(-10px) rotateX(8deg);box-shadow:var(--glow),0 25px 50px rgba(196,30,58,0.3);}
.card-item.sold-out{opacity:0.5;pointer-events:none;}
.card-item.sold-out::after{content:"SOLD OUT";position:absolute;inset:0;background:rgba(0,0,0,0.8);display:flex;align-items:center;justify-content:center;font-size:1.4rem;color:var(--red);font-weight:bold;}
.price{color:var(--red);font-weight:bold;font-size:1.2rem;text-shadow:0 0 8px var(--red);}
.btn{background:var(--red);color:#fff;border:none;padding:12px 24px;border-radius:8px;font-weight:bold;cursor:pointer;transition:var(--fast);width:100%;margin-top:15px;}
.btn:hover{background:#e63946;transform:translateY(-2px);box-shadow:var(--glow);}
.btn.disabled{background:#444;cursor:not-allowed;}
.cart-icon{position:fixed;bottom:20px;right:20px;background:var(--red);width:64px;height:64px;border-radius:50%;display:flex;align-items:center;justify-content:center;box-shadow:var(--glow);cursor:pointer;z-index:99;}
.cart-count{position:absolute;top:-8px;right:-8px;background:#000;color:var(--red);width:24px;height:24px;border-radius:50%;font-size:0.8rem;display:flex;align-items:center;justify-content:center;}
.loader{position:fixed;top:0;left:0;width:100%;height:100%;background:var(--black);display:flex;flex-direction:column;align-items:center;justify-content:center;z-index:999;}
.blood-drip{position:absolute;top:0;width:100%;height:100%;background:linear-gradient(to bottom,transparent 50%,var(--red) 100%);opacity:0.3;animation:drip 3s forwards;}
@keyframes drip{0%{transform:translateY(-100%)}100%{transform:translateY(0)}}
.scanline{position:absolute;top:0;width:100%;height:3px;background:var(--red);opacity:0.6;animation:scan 2s infinite;}
@keyframes scan{0%,100%{top:0}50%{top:100%}}
.hot-badge{position:absolute;top:8px;right:8px;background:#000;color:#ff0;padding:2px 6px;border-radius:4px;font-size:0.7rem;animation:pulse 1.5s infinite;}
.hit-badge{position:absolute;top:8px;left:8px;background:#0f0;color:#000;padding:2px 6px;border-radius:4px;font-size:0.7rem;}
@keyframes pulse{0%,100%{transform:scale(1)}50%{transform:scale(1.1)}}
.search-bar{width:100%;padding:12px;background:#222;border:none;border-radius:8px;color:#fff;margin-bottom:15px;}
.search-bar:focus{outline:none;box-shadow:0 0 8px var(--red);}
.crypto-btn{background:#222;padding:20px;border-radius:12px;cursor:pointer;transition:0.4s;animation:rotate 4s linear infinite paused;}
.crypto-btn:hover{box-shadow:var(--glow);transform:scale(1.05);}
.crypto-btn.active{animation-play-state:running;border:2px solid var(--red);}
@keyframes rotate{from{transform:rotateY(0deg)}to{transform:rotateY(360deg)}}
.modal{position:fixed;inset:0;background:rgba(0,0,0,0.95);display:flex;align-items:center;justify-content:center;z-index:999;opacity:0;visibility:hidden;transition:0.4s;}
.modal.active{opacity:1;visibility:visible;}
.input-group{margin:15px 0;}
.input-group input{width:100%;padding:12px;background:#222;border:1px solid #444;border-radius:8px;color:#fff;}
.input-group input:focus{outline:none;border-color:var(--red);box-shadow:0 0 8px var(--red);}
#profile-menu{position:absolute;top:70px;right:20px;background:#111;border:1px solid #333;border-radius:12px;padding:15px;width:220px;display:none;z-index:999;}
#profile-menu.show{display:block;}
.tg-logo{position:fixed;top:20px;left:20px;z-index:100;display:flex;flex-direction:column;align-items:center;cursor:pointer;text-decoration:none;}
.tg-logo img{width:50px;height:50px;}
.tg-logo span{color:#aaa;font-size:0.9rem;margin-top:5px;}
@media(max-width:768px){.container{padding:20px;}.card-grid{grid-template-columns:repeat(2,1fr);}}
</style>
</head>
<body>
<div id="loader" class="loader"><div class="blood-drip"></div><h1>RAK</h1><p style="color:#666;margin-top:10px">Accessing vault...</p><div class="scanline"></div></div>
<!-- TELEGRAM LOGO + VOUCHES TEXT -->
<a href="https://t.me/addlist/WIPPhibFLBI4MTZh" target="_blank" class="tg-logo">
  <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/8/82/Telegram_logo.svg/1024px-Telegram_logo.svg.png">
  <span>VOUCHES</span>
</a>
<div id="app">
  <div class="nav">
    <button id="home-btn" class="icon-btn"><svg viewBox="0 0 24 24" class="icon"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg></button>
    <button id="profile-btn" class="icon-btn"><svg viewBox="0 0 24 24" class="icon"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/></svg></button>
  </div>
  <!-- PROFILE MENU -->
  <div id="profile-menu">
    <div style="text-align:center;margin-bottom:15px;"><strong id="user-display">Guest</strong><br><small>Balance: $<span id="user-balance">0.00</span></small></div>
    <button class="btn" id="balance-btn" style="margin:8px 0;">Top Up Balance</button>
    <button class="btn" id="orders-btn" style="margin:8px 0;background:#333;">My Orders</button>
    <button class="btn" id="logout-btn" style="background:#600;">Logout</button>
  </div>
  <section id="home" class="page active">
    <div style="position:absolute;inset:0;overflow:hidden;pointer-events:none;">
      <div class="blood-drip" style="animation-delay:0.5s;"></div>
      <div class="scanline"></div>
    </div>
    <div style="text-align:center;z-index:2;">
      <h1 style="font-size:6rem;background:linear-gradient(90deg,#C41E3A,#ff4d4d);-webkit-background-clip:text;-webkit-text-fill-color:transparent;text-shadow:0 0 40px rgba(196,30,58,0.8);">RAK</h1>
      <p style="font-size:1.4rem;color:#666;letter-spacing:8px;margin:20px 0 40px;">ELITE DUMP VAULT</p>
      <button class="btn" id="enter-shop" style="padding:18px 50px;font-size:1.5rem;letter-spacing:4px;">BREACH VAULT</button>
    </div>
  </section>
  <section id="shop" class="page">
    <div class="container" style="max-width:900px">
      <h2>Inventory</h2>
      <input type="text" id="search-bar" class="search-bar" placeholder="Search BIN..."/>
      <div id="categories" style="display:flex;gap:10px;margin:15px 0;flex-wrap:wrap;justify-content:center">
        <button class="btn active" data-cat="all">ALL</button>
        <button class="btn" data-cat="PREPAID">PREPAID</button>
        <button class="btn" data-cat="EU">EU - SOON</button>
        <button class="btn" data-cat="UK">UK - SOON</button>
        <button class="btn" data-cat="CA">CA - SOON</button>
        <button class="btn" data-cat="AU">AU - SOON</button>
      </div>
      <div id="card-grid" class="card-grid"></div>
    </div>
  </section>
  <section id="cart" class="page">
    <div class="container">
      <h2>Cart</h2><div id="cart-items"></div>
      <div style="border-top:1px solid #444;padding-top:15px;margin-top:15px">
        <div style="display:flex;justify-content:space-between;font-weight:bold;font-size:1.2rem">
          <span>TOTAL:</span><span id="cart-total">$0.00</span>
        </div>
        <p style="color:#aaa;text-align:center;margin:10px 0;">Minimum order: $20</p>
        <button class="btn disabled" id="checkout-btn">CHECKOUT</button>
      </div>
    </div>
  </section>
  <section id="payment" class="page">
    <div class="container">
      <h2>Select Payment</h2>
      <div style="display:grid;grid-template-columns:repeat(3,1fr);gap:20px;margin:30px 0;">
        <div class="crypto-btn active" data-crypto="BTC"><img src="https://cryptologos.cc/logos/bitcoin-btc-logo.png" width="80"></div>
        <div class="crypto-btn" data-crypto="ETH"><img src="https://cryptologos.cc/logos/ethereum-eth-logo.png" width="80"></div>
        <div class="crypto-btn" data-crypto="LTC"><img src="https://cryptologos.cc/logos/litecoin-ltc-logo.png" width="80"></div>
      </div>
      <div id="invoice-area" style="text-align:center;background:#111;padding:20px;border-radius:12px;">
        <h3>Send <span id="crypto-amount">0.0000</span> <span id="crypto-type">BTC</span></h3>
        <canvas id="qr-canvas" width="200" height="200" style="margin:20px auto;background:#fff;border-radius:8px;"></canvas>
        <code id="wallet-addr" style="display:block;background:#222;padding:10px;border-radius:8px;word-break:break-all;"></code>
        <button class="btn" id="copy-wallet">COPY ADDRESS</button>
        <p>Expires in: <span id="timer">30:00</span></p>
      </div>
    </div>
  </section>
  <!-- TOP UP BALANCE PAGE -->
  <section id="topup" class="page">
    <div class="container">
      <h2>Top Up Balance</h2>
      <p style="text-align:center;color:#aaa;margin-bottom:30px;">Current Balance: $<span id="current-balance">0.00</span></p>
      <div style="display:grid;grid-template-columns:1fr;gap:15px;">
        <button class="btn" onclick="topUp(25)">Top Up $25</button>
        <button class="btn" onclick="topUp(50)">Top Up $50</button>
        <button class="btn" onclick="topUp(100)">Top Up $100</button>
      </div>
      <div style="margin-top:30px;padding-top:20px;border-top:1px solid #444;">
        <h3 style="color:#aaa;margin-bottom:15px;">Redeem Coupon</h3>
        <input type="text" id="coupon-input" placeholder="Enter coupon code" style="width:100%;padding:12px;background:#222;border:1px solid #444;border-radius:8px;color:#fff;margin-bottom:10px;">
        <button class="btn" onclick="redeemCoupon()">REDEEM</button>
        <p id="coupon-msg" style="margin-top:10px;color:#aaa;font-size:0.9rem;"></p>
      </div>
    </div>
  </section>
  <section id="orders" class="page">
    <div class="container"><h2>My Orders</h2><p style="text-align:center;color:#aaa;margin:30px 0;">No orders yet...</p></div>
  </section>
  <div class="cart-icon" id="cart-icon">
    <svg viewBox="0 0 24 24" style="width:32px;height:32px;fill:#fff"><path d="M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59L5.25 12c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42l.02-.12L8.1 13h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49A1 1 0 0 0 20.75 5H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"/></svg>
    <div class="cart-count" id="cart-count" style="display:none">0</div>
  </div>
</div>
<!-- LOGIN MODAL -->
<div id="login-modal" class="modal">
  <div class="container" style="max-width:380px;">
    <h2 id="modal-title">Sign In</h2>
    <div class="input-group"><input id="email" type="email" placeholder="Email"></div>
    <div class="input-group"><input id="username" type="text" placeholder="Username"></div>
    <div class="input-group"><input id="password" type="password" placeholder="Password"></div>
    <button class="btn" id="auth-btn">SIGN IN</button>
    <p style="text-align:center;margin-top:15px;"><a href="#" id="switch-auth" style="color:#aaa;">Create account</a></p>
  </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/qrcode@1.4.4/build/qrcode.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
<script>
// REAL BINS
const realBins = [
  "402018","517705","401994","41740","420767","424132","442755","446613","537100","442732",
  "461046","478200","483316","483314","490070","5130850","580365","460531","420640","462228",
  "426750","514812","412610","424631","533224","517805","441103","468005","486796","426684"
];

// PREPAID â€” LOW BALANCES SOLD OUT
const prepaid = [
  // {bal:"10-15",price:7}, // SOLD OUT
  // {bal:"25-50",price:15}, // SOLD OUT
  {bal:"50-100",price:35},
  {bal:"100-150",price:45},
  {bal:"200-300",price:80},
  {bal:"400-600",price:150},
  {bal:"800-1000",price:280}
];

const COUPON_CODE = "RAK-TF76F30CWSH";
const COUPON_AMOUNT = 5;

const state = {page:'home',cart:[],user:null,balance:0};
const wallets = {BTC:"1NtpN3aPZowqEzX16E5cMUHQ16P9KHQtiy",ETH:"0x8cBc2AD1dF8c0e42465a9E80c1B84FeB0dEE0D87",LTC:"LhWYtDeDPfUtEpbJC2Pho7xQTXfEEXj6UY"};
let timerInterval = null;

setTimeout(()=>document.getElementById('loader').remove(),3000);

function goTo(id){
  document.querySelectorAll('.page').forEach(p=>p.classList.remove('active'));
  document.getElementById(id).classList.add('active');
  state.page=id;
  if(id==='shop')renderCards();
  if(id==='cart')renderCart();
  if(id==='topup')updateBalanceDisplay();
}

function checkLogin(){return localStorage.getItem('rak_user')?JSON.parse(localStorage.getItem('rak_user')):null;}
function requireLogin(){if(!state.user){document.getElementById('login-modal').classList.add('active');return false;}return true;}

state.user = checkLogin();
if(state.user){
  document.getElementById('user-display').textContent = state.user.username;
  state.balance = parseFloat(localStorage.getItem('rak_balance') || 0);
  updateBalanceDisplay();
}

function updateBalanceDisplay(){
  document.getElementById('user-balance').textContent = state.balance.toFixed(2);
  document.getElementById('current-balance').textContent = state.balance.toFixed(2);
}

function topUp(amount){
  if(requireLogin()){
    state.balance += amount;
    localStorage.setItem('rak_balance', state.balance);
    updateBalanceDisplay();
    alert(`$${amount} added to balance! New balance: $${state.balance.toFixed(2)}`);
    confetti();
  }
}

function redeemCoupon(){
  const input = document.getElementById('coupon-input').value.trim();
  const msg = document.getElementById('coupon-msg');
  if(input === COUPON_CODE){
    if(localStorage.getItem('coupon_used') === 'true'){
      msg.textContent = "Coupon already used!";
      msg.style.color = "#f66";
    } else {
      state.balance += COUPON_AMOUNT;
      localStorage.setItem('rak_balance', state.balance);
      localStorage.setItem('coupon_used', 'true');
      updateBalanceDisplay();
      msg.textContent = "$5 added from coupon!";
      msg.style.color = "#0f0";
      confetti();
    }
  } else {
    msg.textContent = "Invalid coupon";
    msg.style.color = "#f66";
  }
}

function renderCards(filter='all'){
  const grid=document.getElementById('card-grid');grid.innerHTML='';
  if(filter==='PREPAID'){
    prepaid.forEach(p=>{
      const el=document.createElement('div');el.className='card-item enter';
      if(p.price < 30) el.classList.add('sold-out');
      el.innerHTML=`<img src="https://upload.wikimedia.org/wikipedia/commons/5/5e/Visa_Inc._logo.svg" style="width:60px;">
        <div class="hot-badge">HOT</div><div class="hit-badge">GUARANTEED</div>
        <div>Prepaid $${p.bal}</div><div class="price">$${p.price}</div>`;
      el.onclick=()=>{if(requireLogin() && p.price >= 30){state.cart.push({name:`Prepaid $${p.bal}`,price:p.price,bin:"PREPAID"});updateCart();confetti();}};
      grid.appendChild(el);
    });
    return;
  }
  // ALL BIN cards (same as before)
  for(let i=0;i<300;i++){
    const bin = realBins[Math.floor(Math.random()*realBins.length)];
    const price = (Math.random()*25 + 5).toFixed(2);
    const el=document.createElement('div');el.className='card-item enter';
    el.innerHTML=`<div class="bin">${bin}xx</div><div class="price">$${price}</div>`;
    el.onclick=()=>{if(requireLogin()){state.cart.push({name:`CC ${bin}xx`,price:parseFloat(price),bin});updateCart();confetti();}};
    setTimeout(()=>el.classList.add('enter'),i*25);
    grid.appendChild(el);
  }
}

function updateCart(){
  const items=document.getElementById('cart-items');items.innerHTML='';
  let total=0;
  state.cart.forEach((c,i)=>{
    total+=c.price;
    const div=document.createElement('div');
    div.innerHTML=`<div style="background:#222;padding:12px;border-radius:8px;margin:8px 0;display:flex;justify-content:space-between;align-items:center">
      <div><strong>${c.name}</strong><br><small>${c.bin}xx</small></div>
      <div>$${c.price.toFixed(2)} <button style="background:#333;color:#f66;padding:4px 10px;border-radius:6px;margin-left:10px;" onclick="state.cart.splice(${i},1);updateCart()">X</button></div>
    </div>`;
    items.appendChild(div);
  });
  document.getElementById('cart-total').textContent='$'+total.toFixed(2);
  const checkoutBtn = document.getElementById('checkout-btn');
  if(total >= 20){
    checkoutBtn.classList.remove('disabled');
    checkoutBtn.onclick = () => {if(requireLogin() && state.cart.length)goTo('payment');generateInvoice();};
  } else {
    checkoutBtn.classList.add('disabled');
    checkoutBtn.onclick = null;
  }
  const badge=document.getElementById('cart-count');
  badge.textContent=state.cart.length;badge.style.display=state.cart.length?'flex':'none';
}

// Events
document.getElementById('enter-shop').onclick=()=>goTo('shop');
document.getElementById('home-btn').onclick=()=>goTo('home');
document.getElementById('cart-icon').onclick=()=>goTo('cart');
document.getElementById('profile-btn').onclick=()=>{document.getElementById('profile-menu').classList.toggle('show');};
document.getElementById('balance-btn').onclick=()=>goTo('topup');
document.getElementById('orders-btn').onclick=()=>goTo('orders');

// Login
document.getElementById('switch-auth').onclick=(e)=>{e.preventDefault();const t=document.getElementById('modal-title');t.textContent=t.textContent==='Sign In'?'Sign Up':'Sign In';document.getElementById('auth-btn').textContent=t.textContent.includes('Up')?'SIGN UP':'SIGN IN';};
document.getElementById('auth-btn').onclick=()=>{
  const user={email:document.getElementById('email').value,username:document.getElementById('username').value,password:document.getElementById('password').value};
  localStorage.setItem('rak_user',JSON.stringify(user)); state.user=user;
  document.getElementById('user-display').textContent=user.username;
  document.getElementById('login-modal').classList.remove('active');
  alert('Successful! You can go ahead and shop!');
};
document.getElementById('logout-btn').onclick=()=>{localStorage.clear();location.reload();};

document.querySelectorAll('[data-cat]').forEach(b=>b.onclick=()=>{document.querySelectorAll('[data-cat]').forEach(x=>x.classList.remove('active'));b.classList.add('active');renderCards(b.dataset.cat);});

goTo('home');
</script>
</body>
</html>
