<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
<title>RAK.TF â€¢ Elite Vault</title>
<style>
:root {
  --red: #C41E3A;
  --black: #0F0F0F;
  --dark: #1A1A1A;
  --glow: 0 0 15px rgba(196,30,58,0.7);
  --transition: 0.8s cubic-bezier(0.25,0.8,0.25,1);
}
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}
body, html {
  height: 100%;
  font-family: 'Rajdhani', sans-serif;
  background: var(--black);
  color: #fff;
  overflow: hidden;
}
#loader {
  position: fixed;
  inset: 0;
  background: var(--black);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  z-index: 9999;
  transition: opacity 1s;
}
#loader.fade-out {
  opacity: 0;
}
#app {
  opacity: 0;
  transition: opacity 1.5s ease 0.5s;
  height: 100%;
  overflow-y: auto;
}
#app.visible {
  opacity: 1;
}
.auth-page {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: var(--black);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 10000;
  transition: opacity 0.5s;
}
.auth-page.hidden {
  opacity: 0;
  pointer-events: none;
}
.auth-container {
  background: rgba(15,15,15,0.95);
  border-radius: 16px;
  padding: 40px;
  width: 350px;
  box-shadow: var(--glow);
  border: 1px solid rgba(196,30,58,0.3);
  backdrop-filter: blur(12px);
  text-align: center;
}
.auth-container h2 {
  font-family: 'Orbitron', sans-serif;
  color: var(--red);
  text-shadow: 0 0 10px var(--red);
  font-size: 2.2rem;
  margin-bottom: 20px;
}
.auth-button {
  padding: 10px 20px;
  background: var(--red);
  color: white;
  border: none;
  border-radius: 5px;
  cursor: pointer;
  transition: var(--transition);
  margin: 10px;
}
.auth-button:hover {
  transform: scale(1.1);
  box-shadow: var(--glow);
}
.auth-input {
  width: 100%;
  padding: 10px;
  margin: 10px 0;
  border: 1px solid var(--red);
  border-radius: 5px;
  background: var(--dark);
  color: white;
}
.popup {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: var(--red);
  color: white;
  padding: 20px;
  border-radius: 10px;
  z-index: 10001;
  opacity: 0;
  transition: opacity 0.5s;
  display: flex;
  align-items: center;
  justify-content: center;
}
.popup.visible {
  opacity: 1;
}
.bubble {
  position: absolute;
  width: 50px;
  height: 50px;
  background: rgba(196,30,58,0.1);
  border-radius: 50%;
  animation: float 5s infinite ease-in-out;
  pointer-events: none;
}
@keyframes float {
  0% { transform: translateY(0) scale(1); }
  50% { transform: translateY(-20px) scale(1.2); }
  100% { transform: translateY(0) scale(1); }
}
.checkout-header {
  text-align: center;
  padding: 20px;
  background: linear-gradient(135deg, rgba(196,30,58,0.4), rgba(0,0,0,0.8));
  color: var(--red);
  font-size: 2rem;
  font-weight: bold;
  animation: glow 2s infinite alternate;
}
@keyframes glow {
  0% { text-shadow: 0 0 10px var(--red); }
  100% { text-shadow: 0 0 20px var(--red); }
}
.loading-screen {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: var(--black);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 9998;
  opacity: 1;
  transition: opacity 1s;
}
.loading-screen.hidden {
  opacity: 0;
  pointer-events: none;
}
.loader {
  border: 16px solid var(--dark);
  border-top: 16px solid var(--red);
  border-radius: 50%;
  width: 120px;
  height: 120px;
  animation: spin 2s linear infinite;
}
@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}
</style>
</head>
<body>
<div id="loader">
  <h1 style="color: var(--red); font-family: 'Orbitron', sans-serif; font-size: 6rem;">RAK.TF</h1>
</div>
<div id="app">
  <div class="auth-page" id="authPage">
    <div class="auth-container">
      <h2>RAK.TF</h2>
      <button class="auth-button" onclick="showLogin()">Login</button>
      <button class="auth-button" onclick="showRegister()">Register</button>
      <button class="auth-button" onclick="checkoutAsGuest()">Checkout as Guest (B4U Only)</button>
    </div>
  </div>
  <div class="loading-screen" id="loadingScreen">
    <div class="loader"></div>
  </div>
  <div class="checkout-header">Checkout as Guest (B4U Only)</div>
  <a href="https://t.me/addlist/VGpZhvAy668yNThh" target="_blank" class="tg-logo">
    <img src="https://telegram.org/img/t_logo.png" alt="TG">
    <span>RAK.TF</span>
  </a>
  <div style="text-align: center; margin: 40px 0;">
    <img src="https://i.ibb.co/KzhVm7vX/your-logo.jpg" alt="RAK.TF Logo" style="max-width: 400px; width: 80%;" onerror="this.style.display='none'">
    <h1 style="font-size: 5.5rem; background: linear-gradient(90deg, var(--red), #ff4d4d); -webkit-background-clip: text; -webkit-text-fill-color: transparent; text-shadow: 0 0 40px var(--red);">RAK.TF</h1>
  </div>
  <div class="columns">
    <!-- Your existing column cards here -->
  </div>
  <!-- B4U Service Highlight -->
  <div class="b4u-hero">
    <!-- Your existing B4U content here -->
  </div>
  <div class="b4u-grid">
    <!-- Your existing B4U items here -->
  </div>
  <div class="order-page" id="orderPage">
    <!-- Your existing order page content here -->
  </div>
</div>
<div class="popup" id="popup">You must register before you can login.</div>
<script>
function showLogin() {
  const authPage = document.getElementById('authPage');
  const loginForm = `
    <h2>Login</h2>
    <input type="email" id="loginEmail" class="auth-input" placeholder="Email">
    <input type="password" id="loginPassword" class="auth-input" placeholder="Password">
    <button class="auth-button" onclick="login()">Login</button>
  `;
  authPage.querySelector('.auth-container').innerHTML = loginForm;
}

function showRegister() {
  const authPage = document.getElementById('authPage');
  const registerForm = `
    <h2>Register</h2>
    <input type="email" id="registerEmail" class="auth-input" placeholder="Email">
    <input type="email" id="confirmEmail" class="auth-input" placeholder="Confirm Email">
    <input type="password" id="registerPassword" class="auth-input" placeholder="Password">
    <button class="auth-button" onclick="register()">Register</button>
  `;
  authPage.querySelector('.auth-container').innerHTML = registerForm;
}

function login() {
  const email = document.getElementById('loginEmail').value;
  const password = document.getElementById('loginPassword').value;
  const users = JSON.parse(localStorage.getItem('users') || '[]');
  const user = users.find(u => u.email === email && u.password === password);
  if (user) {
    localStorage.setItem('currentUser', JSON.stringify(user));
    hideAuthPage();
  } else {
    showPopup('You must register before you can login.');
  }
}

function register() {
  const email = document.getElementById('registerEmail').value;
  const confirmEmail = document.getElementById('confirmEmail').value;
  const password = document.getElementById('registerPassword').value;
  if (email !== confirmEmail) {
    alert('Emails do not match');
    return;
  }
  const users = JSON.parse(localStorage.getItem('users') || '[]');
  users.push({ email, password });
  localStorage.setItem('users', JSON.stringify(users));
  localStorage.setItem('currentUser', JSON.stringify({ email, password }));
  hideAuthPage();
}

function hideAuthPage() {
  document.getElementById('authPage').classList.add('hidden');
  document.getElementById('app').classList.add('visible');
}

function showPopup(message) {
  const popup = document.getElementById('popup');
  popup.textContent = message;
  popup.classList.add('visible');
  setTimeout(() => {
    popup.classList.remove('visible');
  }, 3000);
}

function checkoutAsGuest() {
  const loadingScreen = document.getElementById('loadingScreen');
  loadingScreen.classList.remove('hidden');
  setTimeout(() => {
    loadingScreen.classList.add('hidden');
    document.getElementById('authPage').classList.add('hidden');
    document.getElementById('app').classList.add('visible');
    showOrderPage();
  }, 2000);
}

// Existing functions
function showPage(page) {
  document.querySelectorAll('.page-content').forEach(p => p.classList.remove('active'));
  document.getElementById(page).classList.add('active');
}

function showOrderPage() {
  document.getElementById('orderPage').classList.add('active');
  document.querySelectorAll('.store-option').forEach((s, i) => setTimeout(() => s.classList.add('visible'), i * 150));
}

function selectStore(store) {
  alert(`You selected ${store}`);
}

function placeOrder() {
  alert('Order placed successfully!');
}

// Initialization
setTimeout(() => {
  document.getElementById('loader').classList.add('fade-out');
  setTimeout(() => {
    document.getElementById('loader').remove();
    if (!localStorage.getItem('currentUser')) {
      document.getElementById('authPage').classList.remove('hidden');
    } else {
      document.getElementById('app').classList.add('visible');
      document.querySelectorAll('.column-card, .b4u-item, .store-option').forEach((c, i) => setTimeout(() => c.classList.add('visible'), i * 150));
    }
  }, 1200);
}, 3000);

// Bubble animation
for (let i = 0; i < 10; i++) {
  let bubble = document.createElement('div');
  bubble.className = 'bubble';
  bubble.style.left = Math.random() * 100 + 'vw';
  bubble.style.top = Math.random() * 100 + 'vh';
  bubble.style.animationDelay = Math.random() * 5 + 's';
  document.body.appendChild(bubble);
}
</script>
</body>
</html>
